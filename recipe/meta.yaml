{% set name = "alchemlyb" %}
{% set version = "2.5.0" %}
{% set build = 0 %}
{% set build = build + 100 %}  # [accelerator == 'jax']

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/{{ name[0] }}/{{ name }}/alchemlyb-{{ version }}.tar.gz
  sha256: df5bd0b41f6e8e3a7b03d11fb8c9a8be7a2df07a16931201a504899ae892907f

build:
  string: >-
    core_{{ PKG_HASH }}_{{ PKG_BUILDNUM }}  # [accelerator == 'core'] jax_{{ PKG_HASH }}_{{ PKG_BUILDNUM }}  # [accelerator == 'jax']
  script: {{ PYTHON }} -m pip install . -vv
  number: {{ build }}

requirements:
  host:
    - pip
    - setuptools
    - python
  run:
    - loguru
    - matplotlib-base >=3.7
    - numpy !=2.3.0,!=2.3.1,!=2.3.2
    - pandas >=2.1
    - pyarrow
    - pymbar >=4  # [accelerator == 'jax']
    - pymbar-core >=4  # [accelerator == 'core']
    - python
    - scikit-learn
    - scipy

test:
  imports:
    - alchemlyb
  commands:
    - pip check
  requires:
    - pip
    - python

about:
  home: https://github.com/alchemistry/alchemlyb
  summary: the simple alchemistry library
  description: |
    alchemlyb is an open-source Python software package for
    the analysis of alchemical free energy calculations. Its
    functionality contains individual composable building
    blocks for all aspects of a full typical free energy
    analysis workflow, starting with the extraction of raw
    data from the output of diverse molecular simulation
    packages, moving on to data preprocessing tasks such as
    decorrelation of time series, using various estimators to
    derive free energy estimates from simulation samples, and
    finally providing quality analysis tools for data
    convergence checking and visualization. alchemlyb also
    contains high-level end-to-end workflows that combine
    multiple building blocks into a user-friendly analysis
    pipeline from the initial data input stage to the final
    results.
  license: BSD-3-Clause
  license_file: LICENSE
  dev_url: https://github.com/alchemistry/alchemlyb
  doc_url: https://alchemlyb.readthedocs.io/

extra:
  recipe-maintainers:
    - xiki-tempula
    - orbeckst
    - jan-janssen
